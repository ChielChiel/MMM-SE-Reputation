<html lang="en-US">

<head>
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.5.0 -->
  <title>MMM-SE-Reputation | See your reputation of a StackExchange site on your MagicMirror</title>
  <meta name="generator" content="Jekyll v3.8.5">
  <meta property="og:title" content="MMM-SE-Reputation">
  <meta property="og:locale" content="en_US">
  <meta name="description" content="See your reputation of a StackExchange site on your MagicMirror">
  <meta property="og:description" content="See your reputation of a StackExchange site on your MagicMirror">
  <link rel="canonical" href="https://chielchiel.github.io/MMM-SE-Reputation/">
  <meta property="og:url" content="https://chielchiel.github.io/MMM-SE-Reputation/">
  <meta name="og:image" content="https://chielchiel.github.io/MMM-SE-Reputation/module_graph.png">
  <meta property="og:site_name" content="MMM-SE-Reputation">
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "https://chielchiel.github.io/MMM-SE-Reputation/",
      "name": "MMM-SE-Reputation",
      "headline": "MMM-SE-Reputation",
      "description": "See your reputation of a StackExchange site on your MagicMirror",
      "@context": "http://schema.org"
    }
  </script>
  <!-- End Jekyll SEO tag -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="https://chielchiel.github.io/MMM-SE-Reputation/assets/css/style.css">
</head>

<body onload="setAuth();">
  <section class="page-header">
    <h1 class="project-name">MMM-SE-Reputation</h1>
    <h2 class="project-tagline">See your reputation of a StackExchange site on your MagicMirror</h2>

    <a href="https://github.com/ChielChiel/MMM-SE-Reputation" class="btn">View on GitHub</a>

  </section>

  <section class="main-content">
    <h1 id="MMM-SE-Reputation">MMM-SE-Reputation</h1>
    <p>See your reputation of a StackExchange site on your MagicMirror</p>
    <img src="/module_graph.png" alt="">
    <h1 id="setup">Setup</h1>
    <p>Now you have authenticated yourself, copy and paste the code below in the config of the MMM-SE-Reputation</p>
    <h3 id="authCode">Please <a href="https://stackoverflow.com/oauth?client_id=18128&scope=private_info&redirect_uri=https://chielchiel.github.io/MMM-SE-Reputation/">authenticate</a> first to see your code here</h3>

    <p>Copy and paste your userpage's url below to autofill the configuration of this module:</p>
    <input type="text" id="inputSite" name="site" value="" oninput="createConfig(this.value)" placeholder="https://stackoverflow.com/users/8902440/chiel">

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">modules</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="na">module</span><span class="p">:</span> <span class="dl">'</span><span class="s1">MMM-SE-Reputation</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">authCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2" id="plsWork">df</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//Authentication code retrieved from the url above.</span>
                <span class="na">userId</span><span class="p">:</span> <span class="dl">"</span><span class="s2" id="userID">8902440</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//User id of the site</span>
                <span class="na">updateInterval</span><span class="p">:</span> <span class="mi">15</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="c1">//How many milliseconds to a new update</span>
            	<span class="na">site</span><span class="p">:</span> <span class="dl">"</span><span class="s2" id="siteName">stackoverflow</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//can be any StackExchange site</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

    <footer class="site-footer">

      <span class="site-footer-owner"><a href="https://github.com/ChielChiel/MMM-SE-Reputation">MMM-SE-Reputation</a> is maintained by <a href="https://github.com/ChielChiel">ChielChiel</a>.</span>

      <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
    </footer>
  </section>


  <script type="text/javascript">
    function setAuth() {
      var hash = window.location.hash.substr(1);

      var result = hash.split('&').reduce(function(result, item) {
        var parts = item.split('=');
        result[parts[0]] = parts[1];
        return result;
      }, {});

      var authCode = result.access_token;
      document.getElementById("plsWork").innerHTML =  authCode;
      document.getElementById("authCode").innerHTML = authCode;
    }

    function createConfig(url){
      //https://stackapps.com/users/70158/chiel
      url = url.includes("http://") ? url.replace("http://","") :
          url.includes("https://") ? url.replace("https://","") : false;

      let dataUrl = url.split("/");
      let site = dataUrl[0].includes(".stackexchange.com") ? dataUrl[0].replace(".stackexchange.com", "") : dataUrl[0].replace(".com", "");
      let userId = dataUrl[2];
      document.getElementById("userID").innerHTML = userId;
      document.getElementById("siteName").innerHTML = site;
      console.log("site: " + site + "; user: " + userId);

    }
  </script>

</body>

</html>
